<%- include('partials/header') %>

<section class="container py-5">
  <div class="invoice-card p-4 bg-white border rounded-3">
    <div class="d-flex justify-content-between align-items-start mb-3">
      <div>
        <h4 class="mb-0">Order <span class="text-muted small">#<%= order.orderNumber %></span></h4>
        <div class="text-muted small">Placed: <%= new Date(order.createdAt).toLocaleString('en-SG', { hour12:false }) %></div>
      </div>
      <div class="text-end">
        <div class="fw-semibold">Total: S$ <%= Number(order.total || 0).toFixed(2) %></div>
        <div class="text-muted small">Status: <%= order.status %></div>
      </div>
    </div>

    <div class="table-responsive mb-3">
      <table class="table table-sm">
        <thead class="table-light">
          <tr>
            <th>Item</th>
            <th class="text-center">Qty</th>
            <th class="text-end">Price</th>
            <th class="text-end">Subtotal</th>
          </tr>
        </thead>
        <tbody>
          <% items.forEach(it => { %>
            <tr>
              <td><%= it.name %></td>
              <td class="text-center"><%= it.quantity %></td>
              <td class="text-end">S$ <%= Number(it.price || 0).toFixed(2) %></td>
              <td class="text-end">S$ <%= Number(it.subtotal || 0).toFixed(2) %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-between align-items-center">
      <a href="/history" class="btn btn-outline-secondary">Back</a>
      <a href="/order/<%= order.orderNumber %>" class="btn btn-success">View Receipt</a>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
