<%- include('partials/header') %>

<main class="container py-5">
  <h1 class="mb-4">Checkout</h1>

  <% if (!cart || cart.length === 0) { %>
    <div class="alert alert-info">Your cart is empty.</div>
  <% } else { %>
    <div class="row">
      <div class="col-md-8">
        <ul class="list-group mb-3">
          <% cart.forEach(item => { %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong><%= item.productName %></strong>
                <div class="text-muted">Qty: <%= item.quantity %></div>
              </div>
              <div>
                $<%= (item.subtotal || 0).toFixed(2) %>
              </div>
            </li>
          <% }) %>
        </ul>
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-body">
            <h5>Order summary</h5>
            <p class="mb-1">Total: <strong>$<%= (total || 0).toFixed(2) %></strong></p>
            <form action="/checkout" method="post">
              <button class="btn btn-success w-100">Place order</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  <% } %>

</main>

<%- include('partials/footer') %>
