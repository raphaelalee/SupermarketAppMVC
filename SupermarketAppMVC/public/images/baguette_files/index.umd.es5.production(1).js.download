!function(exports){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var require$$0={"anonymous_cart.item.max_text_info":"Kuantitas Maksimum"},require$$1={"anonymous_cart.item.max_text_info":"Kuantiti maksimum"},require$$2={"anonymous_cart.item.max_text_info":"最大数量"},require$$3={"anonymous_cart.item.max_text_info":"จำนวนสูงสุด"},require$$4={"anonymous_cart.item.max_text_info":"Số lượng tối đa"},require$$5={"anonymous_cart.item.max_text_info":"Maximum Quantity"};function asyncGeneratorStep(H,X,U,J,V,B,W){try{var $=H[B](W),Y=$.value}catch(H){U(H);return}$.done?X(Y):Promise.resolve(Y).then(J,V)}function _async_to_generator(H){return function(){var X=this,U=arguments;return new Promise(function(J,V){var B=H.apply(X,U);function W(H){asyncGeneratorStep(B,J,V,W,$,"next",H)}function $(H){asyncGeneratorStep(B,J,V,W,$,"throw",H)}W(void 0)})}}function _define_property(H,X,U){return X in H?Object.defineProperty(H,X,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[X]=U,H}function _object_spread(H){for(var X=1;X<arguments.length;X++){var U=null!=arguments[X]?arguments[X]:{},J=Object.keys(U);"function"==typeof Object.getOwnPropertySymbols&&(J=J.concat(Object.getOwnPropertySymbols(U).filter(function(H){return Object.getOwnPropertyDescriptor(U,H).enumerable}))),J.forEach(function(X){_define_property(H,X,U[X])})}return H}function __generator(H,X){var U,J,V,B={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]},W=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return W.next=$(0),W.throw=$(1),W.return=$(2),"function"==typeof Symbol&&(W[Symbol.iterator]=function(){return this}),W;function $(H){return function(X){return Y([H,X])}}function Y($){if(U)throw TypeError("Generator is already executing.");for(;W&&(W=0,$[0]&&(B=0)),B;)try{if(U=1,J&&(V=2&$[0]?J.return:$[0]?J.throw||((V=J.return)&&V.call(J),0):J.next)&&!(V=V.call(J,$[1])).done)return V;switch(J=0,V&&($=[2&$[0],V.value]),$[0]){case 0:case 1:V=$;break;case 4:return B.label++,{value:$[1],done:!1};case 5:B.label++,J=$[1],$=[0];continue;case 7:$=B.ops.pop(),B.trys.pop();continue;default:if(!(V=(V=B.trys).length>0&&V[V.length-1])&&(6===$[0]||2===$[0])){B=0;continue}if(3===$[0]&&(!V||$[1]>V[0]&&$[1]<V[3])){B.label=$[1];break}if(6===$[0]&&B.label<V[1]){B.label=V[1],V=$;break}if(V&&B.label<V[2]){B.label=V[2],B.ops.push($);break}V[2]&&B.ops.pop(),B.trys.pop();continue}$=X.call(H,B)}catch(H){$=[6,H],J=0}finally{U=V=0}if(5&$[0])throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError;var sites={ID:{id:"360",lang:["id","en"],langShort:["id","en"],currency:"IDR",domain:"lazada.co.id",regionID:"ID"},MY:{id:"458",lang:["en-MY","ms","zh"],langShort:["en","ms","zh"],currency:"MYR",domain:"lazada.com.my",regionID:"MY"},PH:{id:"608",lang:["en-PH"],langShort:["en"],currency:"PHP",domain:"lazada.com.ph",regionID:"PH"},SG:{id:"702",lang:["en-SG","zh"],langShort:["en","zh"],currency:"SGD",domain:"lazada.sg",regionID:"SG"},TH:{id:"764",lang:["th","en"],langShort:["th","en"],currency:"THB",domain:"lazada.co.th",regionID:"TH"},VN:{id:"704",lang:["vi","en"],langShort:["vi","en"],currency:"VND",domain:"lazada.vn",regionID:"VN"},KH:{id:"116",lang:["km-KH","zh-KH","en-KH"],langShort:["km","zh","en"],currency:"KHR",domain:"kh.lazada.com",regionID:"KH"},BD:{id:"050",lang:["en-BD","bn-BD"],langShort:["en","bn"],currency:"BDT",domain:"daraz.com.bd",regionID:"BD"},LK:{id:"144",lang:["en-LK","si-LK"],langShort:["en","si"],currency:"LKR",domain:"daraz.lk",regionID:"LK"},MM:{id:"104",lang:["en-MM","my-MM"],langShort:["en","my"],currency:"MMK",domain:"shop.com.mm",regionID:"MM"},NP:{id:"524",lang:["en-NP","ne-NP"],langShort:["en","ne"],currency:"NPR",domain:"daraz.com.np",regionID:"NP"},PK:{id:"586",lang:["en-PK","ur-PK"],langShort:["en","ur"],currency:"PKR",domain:"daraz.pk",regionID:"PK"}},SITE_CONFIGS=sites,getCookie$1=function(H){for(var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=H?null:{},J=document.cookie,V=J?J.split("; "):[],B=/(%[0-9A-Z]{2})+/g,W=0;W<V.length;W++){var $=V[W].split("="),Y=$.slice(1).join("=");X.json||'"'!==Y.charAt(0)||(Y=Y.slice(1,-1));try{var Q=$[0].replace(B,decodeURIComponent);if(Y=Y.replace(B,decodeURIComponent),X.json)try{Y=JSON.parse(Y)}catch(H){}if(H===Q){U=Y;break}H||(U[Q]=Y)}catch(H){}}return U};function isDaily(){var H=/127\.0\.0\.1|localhost|daily|waptest|\.test/,X="object"==typeof location&&location.hostname||"";return!!X&&H.test(X)}function isPre(){var H="object"==typeof location&&location.hostname||"";return!!H&&(H.indexOf("pre-www.")>=0||H.indexOf("pre-wormhole.")>=0||H.indexOf("-p.lazada.")>=0||H.indexOf("-p.daraz.")>=0||H.indexOf("-p.shop.")>=0||H.indexOf("pre-wallet-nav.")>=0||H.indexOf("pre-ewallet-aipay.")>=0||H.indexOf("i.lazada.")>=0||H.indexOf("pre.lazada.")>=0||H.indexOf("-staging.lazada.")>=0||H.indexOf("-staging.daraz.")>=0||H.indexOf("-staging.shop.")>=0||H.indexOf("pre-live.")>=0)}function splitHngCookie(H){return H?H.split("|"):[]}function getValidLanguage(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",U=SITE_CONFIGS[H=H.toLocaleUpperCase()],J=U?U.lang:[];if(!Array.isArray(J))return X;for(var V="",B=0;B<J.length;B++){var W=J[B];if(W&&W.indexOf(X)>-1){V=W;break}}return V||(V=J[0]),V}function getEnv(){var H=!(arguments.length>0)||void 0===arguments[0]||arguments[0],X=arguments.length>1&&void 0!==arguments[1]&&arguments[1],U="",J="";if("object"==typeof window&&window._i18n_){var V=window._i18n_;if("string"==typeof V)try{V=JSON.parse(V)}catch(H){}"object"==typeof V&&(U=V.regionID,J=V.language)}!U&&window.g_config&&"object"==typeof window.g_config&&(U=window.g_config.regionID,J=window.g_config.language);var B=!0!==X&&U?[]:splitHngCookie(getCookie$1("hng"));if(!U&&"object"==typeof location&&location.hostname){for(var W in SITE_CONFIGS){var $=SITE_CONFIGS[W];if($&&$.domain&&location.hostname.indexOf($.domain)>-1){U=$.regionID;break}}B.length>1&&(J=B[1])}return!U&&B.length>=4&&(U=B[0],J=B[1]),X&&B.length>1&&(J=B[1]),J=getValidLanguage(U=U||"SG",J)||"en",H&&(J=J.substring(0,2)),{regionID:U.toLocaleUpperCase(),language:J}}function _array_with_holes(H){if(Array.isArray(H))return H}function _iterable_to_array_limit(H,X){var U,J,V=null==H?null:"undefined"!=typeof Symbol&&H[Symbol.iterator]||H["@@iterator"];if(null!=V){var B=[],W=!0,$=!1;try{for(V=V.call(H);!(W=(U=V.next()).done)&&(B.push(U.value),!X||B.length!==X);W=!0);}catch(H){$=!0,J=H}finally{try{W||null==V.return||V.return()}finally{if($)throw J}}return B}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _array_like_to_array(H,X){(null==X||X>H.length)&&(X=H.length);for(var U=0,J=Array(X);U<X;U++)J[U]=H[U];return J}function _unsupported_iterable_to_array(H,X){if(H){if("string"==typeof H)return _array_like_to_array(H,X);var U=Object.prototype.toString.call(H).slice(8,-1);if("Object"===U&&H.constructor&&(U=H.constructor.name),"Map"===U||"Set"===U)return Array.from(U);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return _array_like_to_array(H,X)}}function _sliced_to_array(H,X){return _array_with_holes(H)||_iterable_to_array_limit(H,X)||_unsupported_iterable_to_array(H,X)||_non_iterable_rest()}function _type_of$2(H){return H&&"undefined"!=typeof Symbol&&H.constructor===Symbol?"symbol":typeof H}function isObject(H){var X=void 0===H?"undefined":_type_of$2(H);return null!=H&&("object"==X||"function"==X)}function isUndefined(H){return void 0===H}function getCookie(H){if(("undefined"==typeof window?"undefined":_type_of$2(window))===void 0||("undefined"==typeof document?"undefined":_type_of$2(document))===void 0)return"";for(var X=H+"=",U=document.cookie.split(";"),J=0;J<U.length;J++){var V=U[J];if(-1!=V.indexOf(X))return V.substring(X.length+1,V.length)}return""}var SEPARATOR="#@#",SRC_REG=/\/\/lang\.alicdn\.com\//,LOCALE_REG=/_([-\w]+)\.js/,CONFIG={appName:"",pseudoEnableCookieKey:"_lang",pseudoEnableCookieKeyValue:"pd_KV"},globalAppName="medusa_app_name",$i18n={getConfig:function(){return _object_spread({},CONFIG)},setConfig:function(H){var X=H||{};Object.keys(CONFIG).forEach(function(H){void 0!==X[H]&&(CONFIG[H]=X[H])})},get:function(H,X,U,J){if(!H)return"";X=X||H;var V,B=J?J.customConfigKey:"flute_langs",W=isObject(window[B])?window[B]:{},$="",Y=CONFIG.appName||window[globalAppName]||"";if(H.indexOf(SEPARATOR)>0&&(Y=(V=_sliced_to_array(H.split(SEPARATOR),2))[0],H=V[1]),W[Y]&&(W=W[Y]),!Object.keys(W).length){var Q=document.scripts||[];Array.prototype.some.call(Q,function(H){var X=H.src;if(SRC_REG.test(X)&&LOCALE_REG.test(X)){var U=X.match(LOCALE_REG);return $=U&&U.length>0?U[1]:""}return!1}),Y&&$&&(B="".concat(Y,"_").concat($.toLowerCase()),W=isObject(window[B])?window[B]:{})}var Z=(isUndefined(W[H])||""===W[H]?X:W[H])||"";return(U&&"object"==typeof U&&(Z=Z.replace(/\{([^}]+)\}/g,function(){for(var H=arguments.length,X=Array(H),J=0;J<H;J++)X[J]=arguments[J];var V=X[1];return void 0===U[V]?X[0]:U[V]})),void 0===pseudoEnableFlag&&(pseudoEnableFlag=getCookie(CONFIG.pseudoEnableCookieKey)===CONFIG.pseudoEnableCookieKeyValue),pseudoEnableFlag)?"##@@@".concat(H,"##").concat(Y,"@@@##").concat(Z):Z}},$i18n$1=$i18n,sdkConfig={__localStorage_key__:"PC_ANONYMOUSCART_KEY"};function getQueryVariable(H){for(var X=window.location.search.substring(1).split("&"),U=0;U<X.length;U++){var J=X[U].split("=");if(J[0]==H)return J[1]}return!1}function getLocalStorage(H){var X=null;if(!(localStorage&&localStorage.getItem))return console.log("[Anonymous Cart sdk] getLocalStorage Error "),{localStorageVal:null,ret:!1};try{return{localStorageVal:X=JSON.parse(localStorage.getItem(H)),ret:!0}}catch(H){return console.log("[Anonymous Cart sdk] getLocalStorage Error ",H),{localStorageVal:null,ret:!1}}}function setLocalStorage(H,X){if(!(localStorage&&localStorage.setItem))return console.log("[Anonymous Cart sdk] setLocalStorage Error "),!1;try{var U=JSON.stringify(X);return localStorage.setItem(H,U),!0}catch(H){return console.log("[Anonymous Cart sdk] setLocalStorage Error ",H),!1}}function removeLocalStorage(H){return localStorage&&localStorage.removeItem?(localStorage.removeItem(H),!0):(console.log("[Anonymous Cart sdk] removeLocalStorage Error "),!1)}function _array_without_holes(H){if(Array.isArray(H))return _array_like_to_array(H)}function _iterable_to_array(H){if("undefined"!=typeof Symbol&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(H){return _array_without_holes(H)||_iterable_to_array(H)||_unsupported_iterable_to_array(H)||_non_iterable_spread()}/*!
	  * Reqwest! A general purpose XHR connection manager
	  * license MIT (c) Dustin Diaz 2015
	  * https://github.com/ded/reqwest
	  */var pseudoEnableFlag,lastValue,context=window,doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0],httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop$1=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(H){return H instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(H){if(!0===H.crossOrigin){var X=context[xmlHttpRequest]?new XMLHttpRequest:null;if(X&&"withCredentials"in X)return X;if(context[xDomainRequest])return new XDomainRequest;throw Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(H){return H}};function succeed(H){var X=protocolRe.exec(H.url);return X=X&&X[1]||context.location.protocol,httpsRe.test(X)?twoHundo.test(H.request.status):!!H.request.response}function handleReadyState(H,X,U){return function(){return H._aborted?U(H.request):H._timedOut?U(H.request,"Request is aborted: timeout"):void(H.request&&4==H.request[readyState]&&(H.request.onreadystatechange=noop$1,succeed(H)?X(H.request):U(H.request)))}}function setHeaders(H,X){var U,J=X.headers||{};J.Accept=J.Accept||defaultHeaders.accept[X.type]||defaultHeaders.accept["*"];var V="undefined"!=typeof FormData&&X.data instanceof FormData;for(U in X.crossOrigin||J[requestedWith]||(J[requestedWith]=defaultHeaders.requestedWith),J[contentType]||V||(J[contentType]=X.contentType||defaultHeaders.contentType),J)J.hasOwnProperty(U)&&"setRequestHeader"in H&&H.setRequestHeader(U,J[U])}function setCredentials(H,X){void 0!==X.withCredentials&&void 0!==H.withCredentials&&(H.withCredentials=!!X.withCredentials)}function generalCallback(H){lastValue=H}function urlappend(H,X){return H+(/\?/.test(H)?"&":"?")+X}function handleJsonp(H,X,U,J){var V=uniqid++,B=H.jsonpCallback||"callback",W=H.jsonpCallbackName||reqwest.getcallbackPrefix(V),$=RegExp("((^|\\?|&)"+B+")=([^&]+)"),Y=J.match($),Q=doc.createElement("script"),Z=0,ee=-1!==navigator.userAgent.indexOf("MSIE 10.0");return Y?"?"===Y[3]?J=J.replace($,"$1="+W):W=Y[3]:J=urlappend(J,B+"="+W),context[W]=generalCallback,Q.type="text/javascript",Q.src=J,Q.async=!0,void 0===Q.onreadystatechange||ee||(Q.htmlFor=Q.id="_reqwest_"+V),Q.onload=Q.onreadystatechange=function(){if(Q[readyState]&&"complete"!==Q[readyState]&&"loaded"!==Q[readyState]||Z)return!1;Q.onload=Q.onreadystatechange=null,Q.onclick&&Q.onclick(),X(lastValue),lastValue=void 0,head.removeChild(Q),Z=1},head.appendChild(Q),{abort:function(){Q.onload=Q.onreadystatechange=null,U({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(Q),Z=1}}}function getRequest(H,X){var U,J=this.o,V=(J.method||"GET").toUpperCase(),B="string"==typeof J?J:J.url,W=!1!==J.processData&&J.data&&"string"!=typeof J.data?reqwest.toQueryString(J.data):J.data||null,$=!1;return(("jsonp"==J.type||"GET"==V)&&W&&(B=urlappend(B,W),W=null),"jsonp"==J.type)?handleJsonp(J,H,X,B):((U=J.xhr&&J.xhr(J)||xhr(J)).open(V,B,!1!==J.async),setHeaders(U,J),setCredentials(U,J),context[xDomainRequest]&&U instanceof context[xDomainRequest]?(U.onload=H,U.onerror=X,U.onprogress=function(){},$=!0):U.onreadystatechange=handleReadyState(this,H,X),J.before&&J.before(U),$?setTimeout(function(){U.send(W)},200):U.send(W),U)}function Reqwest(H,X){this.o=H,this.fn=X,init.apply(this,arguments)}function setType(H){if(null!==H){if(H.match("json"))return"json";if(H.match("javascript"))return"js";if(H.match("text"))return"html";if(H.match("xml"))return"xml"}}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(H){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(H)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(H,X,U){for(H=self.request,self._responseArgs.resp=H,self._responseArgs.msg=X,self._responseArgs.t=U,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(H,X,U);complete(H)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(H,X){return new Reqwest(H,X)}function normalize(H){return H?H.replace(/\r?\n/g,"\r\n"):""}function serial(H,X){var U,J,V,B,W=H.name,$=H.tagName.toLowerCase(),Y=function(H){H&&!H.disabled&&X(W,normalize(H.attributes.value&&H.attributes.value.specified?H.value:H.text))};if(!H.disabled&&W)switch($){case"input":/reset|button|image|file/i.test(H.type)||(U=/checkbox/i.test(H.type),J=/radio/i.test(H.type),V=H.value,(!(U||J)||H.checked)&&X(W,normalize(U&&""===V?"on":V)));break;case"textarea":X(W,normalize(H.value));break;case"select":if("select-one"===H.type.toLowerCase())Y(H.selectedIndex>=0?H.options[H.selectedIndex]:null);else for(B=0;H.length&&B<H.length;B++)H.options[B].selected&&Y(H.options[B])}}function eachFormElement(){var H,X,U=this,J=function(H,X){var J,V,B;for(J=0;J<X.length;J++)for(V=0,B=H[byTag](X[J]);V<B.length;V++)serial(B[V],U)};for(X=0;X<arguments.length;X++)H=arguments[X],/input|select|textarea/i.test(H.tagName)&&serial(H,U),J(H,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var H={};return eachFormElement.apply(function(X,U){X in H?(H[X]&&!isArray(H[X])&&(H[X]=[H[X]]),H[X].push(U)):H[X]=U},arguments),H}function buildParams(H,X,U,J){var V,B,W,$=/\[\]$/;if(isArray(X))for(B=0;X&&B<X.length;B++)W=X[B],U||$.test(H)?J(H,W):buildParams(H+"["+("object"==typeof W?B:"")+"]",W,U,J);else if(X&&"[object Object]"===X.toString())for(V in X)buildParams(H+"["+V+"]",X[V],U,J);else J(H,X)}Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(H,X){return H=H||function(){},X=X||function(){},this._fulfilled?this._responseArgs.resp=H(this._responseArgs.resp):this._erred?X(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(H),this._errorHandlers.push(X)),this},always:function(H){return this._fulfilled||this._erred?H(this._responseArgs.resp):this._completeHandlers.push(H),this},fail:function(H){return this._erred?H(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(H),this},catch:function(H){return this.fail(H)}},reqwest.serializeArray=function(){var H=[];return eachFormElement.apply(function(X,U){H.push({name:X,value:U})},arguments),H},reqwest.serialize=function(){if(0==arguments.length)return"";var H,X,U=Array.prototype.slice.call(arguments,0);return(H=U.pop())&&H.nodeType&&U.push(H)&&(H=null),H&&(H=H.type),(X="map"==H?serializeHash:"array"==H?reqwest.serializeArray:serializeQueryString).apply(null,U)},reqwest.toQueryString=function(H,X){var U,J,V=X||!1,B=[],W=encodeURIComponent,$=function(H,X){X="function"==typeof X?X():null==X?"":X,B[B.length]=W(H)+"="+W(X)};if(isArray(H))for(J=0;H&&J<H.length;J++)$(H[J].name,H[J].value);else for(U in H)H.hasOwnProperty(U)&&buildParams(U,H[U],V,$);return B.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(H,X){return H&&(H.type&&(H.method=H.type)&&delete H.type,H.dataType&&(H.type=H.dataType),H.jsonpCallback&&(H.jsonpCallbackName=H.jsonpCallback)&&delete H.jsonpCallback,H.jsonp&&(H.jsonpCallback=H.jsonp)),new Reqwest(H,X)},reqwest.ajaxSetup=function(H){for(var X in H=H||{})globalSetupOptions[X]=H[X]};var _getEnv=getEnv(!0,!0),regionID=_getEnv.regionID,domain=SITE_CONFIGS[regionID].domain,HOSTNAME=domain;function addAnonymousCartItem(H,X){console.log("[Anonymous Cart sdk] Add items",X);var U=getLocalStorage(H),J=U.localStorageVal;if(!U.ret)return{ret:!1,retMsg:"[Anonymous Cart sdk] get LS data failed"};if(J){var V=JSON.parse(JSON.stringify(J));try{var B,W=0,$=[],Y=JSON.parse(JSON.stringify(X)),Q=[],Z=[];if(Y.forEach(function(H){H.price&&H.quantity?Q.push(H):Z.push(H)}),Z.length>0&&console.log("[Anonymous Cart sdk] add Item Error, invalidateItem",Z),0===Q.length)return{ret:!1,retMsg:"[Anonymous Cart sdk] no valid item"};var ee=[];if(V.forEach(function(H){var X=Q.findIndex(function(X){return H.itemId===X.itemId&&H.skuId===X.skuId});if(X>-1){var U=(Q[X].quantity.limit||{}).max,J=Number(Q[X].quantity.value)+Number(H.quantity.value);U&&U>=J?Q[X].quantity.value=Number(Q[X].quantity.value)+Number(H.quantity.value):ee.push(U)}else $.push(H)}),ee.length>0){var et=$i18n$1.get("anonymous_cart.item.max_text_info","Maximum Quantity");return{ret:!1,exceedLimit:!0,retMsg:"".concat(et," ").concat(ee[0])}}return(B=Q).push.apply(B,_to_consumable_array($)),Q.forEach(function(H){W+=Number(H.quantity.value)}),{ret:setLocalStorage(H,Q),lsCount:W,retMsg:"[Anonymous Cart sdk] write to LS success"}}catch(H){return console.log("[Anonymous Cart sdk] get LS data failed",H),{ret:!1,retMsg:"[Anonymous Cart sdk] get LS data failed"}}}else{if(!X)return{ret:!0,lsCount:0,retMsg:"[Anonymous Cart sdk] add item empty"};var en=[],er=[];if(X.forEach(function(H){H.price&&H.quantity?en.push(H):er.push(H)}),er.length>0&&console.log("[Anonymous Cart sdk] add Item Error, invalidateItem",er),0===en.length)return{ret:!1,retMsg:"[Anonymous Cart sdk] no valid item"};var eo=0;return en.forEach(function(H){eo+=Number(H.quantity.value)}),{ret:setLocalStorage(H,en),lsCount:eo,retMsg:"[Anonymous Cart sdk] write to LS success"}}}function modifyAnonymousCartItem(H,X){var U=setLocalStorage(H,X),J=0;return X.forEach(function(H){J+=Number(H.quantity.value)}),{ret:U,lsCount:J}}function requestRestful(H){if(H){var X=reqwest({url:H,method:"GET",timeout:3e4,type:"json",withCredentials:!0}),U=new Promise(function(H,X){H({})}),J=new Promise(function(H,X){H({success:!0,module:{showRedDot:"0",cartNum:1}})});return isDaily()?"//buyer.lazada.test/cart/api/count"===H?J:U:X}}function getAnonymousCartCacheCount(){var H=getLocalStorage(sdkConfig.__localStorage_key__),X=H.localStorageVal;H.ret;var U=0,J=Number(getQueryVariable("expiredTime")),V=(X||[]).map(function(H){var X=H.gmtCreate||0,V=J||6048e5,B=new Date().valueOf();return X&&B-X>V?null:(U+=Number.parseInt(H.quantity.value),H)}).filter(Boolean);setLocalStorage(sdkConfig.__localStorage_key__,V),window.lib_anonymousCart.sdkEntity.cartNum=U,window.lib_anonymousCart.sdkEntity&&window.lib_anonymousCart.sdkEntity.countChangeCallback&&window.lib_anonymousCart.sdkEntity.countChangeCallback(U)}function fetchCartInfo(){var H=isDaily()?"//buyer.lazada.test/cart/api/count":"//cart.".concat(HOSTNAME,"/cart/api/count");try{requestRestful(H).then(function(H){console.log("[Anonymous Cart sdk] cartInfo",H),H.module&&H.module.cartNum&&window.lib_anonymousCart&&window.lib_anonymousCart.sdkEntity?(window.lib_anonymousCart.sdkEntity.cartNum=H.module.cartNum,window.lib_anonymousCart.sdkEntity.countChangeCallback&&window.lib_anonymousCart.sdkEntity.countChangeCallback(H.module.cartNum)):getAnonymousCartCacheCount()}).catch(function(H){console.log("[Anonymous Cart sdk] api err",H),getAnonymousCartCacheCount()})}catch(H){console.log("[Anonymous Cart sdk] catch cartINfo err",H)}}var lib={exports:{}},_type_of$1={};function _type_of(H){return H&&"undefined"!=typeof Symbol&&H.constructor===Symbol?"symbol":typeof H}_type_of$1._=_type_of,/*! For license information please see index.js.LICENSE.txt */lib.exports,function(H,X){var U=_type_of$1._;!function(X,U){H.exports=U()}(0,function(){return function(){var H={195:function(H,X,U){var J=U(994);Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var V=J(U(756)),B=J(U(293)),W=U(882),$=U(364),Y=J(U(858)),Q="",Z="",ee="",et="",en=-1;function er(H){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",U=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.appCode=H,this.lazy=U,this.expId=X,Q=(0,W.storageKeyFactory)(this.appCode,"exp_version"),Z=(0,W.storageKeyFactory)(this.appCode,"exp_config"),ee=(0,W.storageKeyFactory)(this.appCode,"exp_period"),et=(0,W.storageKeyFactory)(this.appCode,"exp_timestamp")}er.prototype.handleVersionPeriod=(0,B.default)(V.default.mark(function H(){var X,U,J;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return X=(0,$.getPlugins)().storage,H.next=3,X.getItem(et);case 3:return U=H.sent,H.next=6,X.getItem(ee);case 6:if(J=H.sent,U){H.next=9;break}return H.abrupt("return",!0);case 9:if(J&&"0"!==J){H.next=15;break}if(!((new Date).getTime()-U>=3e3)){H.next=14;break}return H.abrupt("return",!0);case 14:case 17:return H.abrupt("return",!1);case 15:if(!(U&&J&&(new Date).getTime()-U>=J)){H.next=17;break}return H.abrupt("return",!0);case 18:case"end":return H.stop()}},H)})),er.prototype.handleShouldAllocateTraffic=(0,B.default)(V.default.mark(function H(){var X,U,J,B,W,$,Q,Z,ee,et=arguments;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return X=!(et.length>0&&void 0!==et[0])||et[0],this.appCode||(0,Y.default)("appCode is required"),U=ei(this.appCode),H.next=5,eo(U,X);case 5:return W=void 0!==(B=(J=H.sent).localExpConfigUsable)&&B,Q=void 0!==($=J.shouldRequestExpConfig)&&$,ee=void 0===(Z=J.expFile)?null:Z,H.abrupt("return",{localExpConfigUsable:W,shouldRequestExpConfig:Q,expFile:ee});case 13:case"end":return H.stop()}},H,this)})),er.prototype.processConfig=function(){var H=(0,B.default)(V.default.mark(function H(X,U){var J,B,W;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,ea(X,U);case 2:if(B=(J=H.sent).success,W=J.expConfig,!(B&&W&&W.groups&&W.groups.length)){H.next=9;break}return H.abrupt("return",{groups:W.groups});case 9:return(0,Y.default)("fail to get experiment config data."),H.abrupt("return",{});case 11:case"end":return H.stop()}},H)}));return function(X,U){return H.apply(this,arguments)}}(),er.prototype.getCurrentConfig=(0,B.default)(V.default.mark(function H(){var X,U,J;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return X=(0,$.getPlugins)().storage,U={},H.next=4,X.getItem(Z);case 4:if((J=H.sent)&&(U=JSON.parse(J)),!(U&&U.groups&&U.groups.length)){H.next=10;break}return H.abrupt("return",{groups:U.groups});case 10:return(0,Y.default)("fail to get local experiment config data."),H.abrupt("return",{});case 12:case"end":return H.stop()}},H)}));var eo=function(){var H=(0,B.default)(V.default.mark(function H(X,U){var J,B,W,en,er,eo,ea,ei,ec,el,ef,ed,ep,eh,eg,em;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return B=(J=(0,$.getPlugins)()).storage,W=J.request,en=!1,er=!1,eo=null,H.next=6,B.getItem(Q);case 6:return ea=H.sent,H.next=9,B.getItem(Z);case 9:if(H.sent&&(er=!0),!U&&eu(ea)&&er){H.next=24;break}return H.next=14,W.getJSON(X);case 14:return(ec=(ei=H.sent)&&ei.metaInfo||null)||(0,Y.default)("fail to fetch new version of experient config."),ed=void 0===(ef=(el=ec||{}).version)?null:ef,eh=void 0===(ep=el.filePath)?null:ep,em=void 0===(eg=el.period)?"0":eg,H.next=20,B.setItem(ee,em);case 20:return H.next=22,B.setItem(et,(new Date).getTime());case 22:eo=eh,eu(ed)&&eo&&(eu(ea)&&ea===ed+""&&er||(es(ed),en=!0));case 24:return H.abrupt("return",{localExpConfigUsable:er,shouldRequestExpConfig:en,expFile:eo});case 25:case"end":return H.stop()}},H)}));return function(X,U){return H.apply(this,arguments)}}(),ea=function(){var H=(0,B.default)(V.default.mark(function H(){var X,U,J,B,W,ee,et,en,er,eo,ea=arguments;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(X=ea.length>0&&void 0!==ea[0]&&ea[0],U=ea.length>1&&void 0!==ea[1]?ea[1]:null,B=(J=(0,$.getPlugins)()).storage,W=J.request,ee=!1,et=null,!X){H.next=25;break}if(!U){H.next=23;break}return H.next=8,W.getJSON(U);case 8:if((et=H.sent)||(0,Y.default)("fail to fetch experient config."),en=ec(),!et||!eu(en)){H.next=19;break}return ee=!0,H.next=15,B.setItem(Q,en);case 15:return H.next=17,B.setItem(Z,JSON.stringify(et));case 17:H.next=23;break;case 19:return H.next=21,B.getItem(Z);case 21:(er=H.sent)&&(ee=!0,et=JSON.parse(er));case 23:H.next=29;break;case 25:return H.next=27,B.getItem(Z);case 27:(eo=H.sent)&&(ee=!0,et=JSON.parse(eo));case 29:return H.abrupt("return",{success:ee,expConfig:et});case 30:case"end":return H.stop()}},H)}));return function(){return H.apply(this,arguments)}}(),ei=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",X=(0,$.getPlugins)().env,U=void 0===X?{}:X,J=U.getIkkyuEnv&&U.getIkkyuEnv()||"",V=U.getMode&&U.getMode()||"";return J?"beta"===V?"https://lab-js-abtest.lazada.com/abtest/h5/config/daily/v1/".concat(H,"/metaInfo.json?t=").concat(+new Date):"https://lab-js-abtest.lazada.com/abtest/h5/config/".concat(J,"/v1/").concat(H,"/metaInfo.json?t=").concat(+new Date):((0,Y.default)("Lab environment is not identifiable."),"")},eu=function(H){return("number"==typeof H||"string"==typeof H)&&""!==H&&H>=0},ec=function(){return en},es=function(H){en=H},el=er;X.default=el},42:function(H,X,U){var J=U(994);Object.defineProperty(X,"__esModule",{value:!0}),X.getExperiments=void 0;var V=J(U(858));X.getExperiments=function(H){try{var X={};return H.forEach(function(H){var U=H.key(),J=X[U];J||(J=[]),J.push(H),X[U]=J}),X}catch(H){(0,V.default)("invalid experiment key")}return!1}},877:function(H,X){Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(H){return!0}},103:function(H,X,U){var J=U(994);Object.defineProperty(X,"__esModule",{value:!0}),X.trafficAllocation=void 0;var V=J(U(756)),B=J(U(293)),W=U(364),$=J(U(168)),Y=J(U(858)),Q=new $.default,Z=!1,ee=0,et=0,en=function(){var H=(0,B.default)(V.default.mark(function H(X){var U,J,B,W,$,Y,Q,Z,ee,et,en,eo,ea,ei,eu=arguments;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(U=eu.length>2&&void 0!==eu[2]?eu[2]:"",J=null,!X||!X.length){H.next=24;break}if(!U){H.next=8;break}for(B=0;B<X.length;B++)(W=X[B])&&W.config&&W.config.id+""===U&&(J=W);H.next=24;break;case 8:return $=X[0],H.next=11,er($);case 11:if(H.sent){H.next=14;break}return H.abrupt("return",!1);case 14:Y=0;case 15:if(!(Y<X.length)){H.next=24;break}return Q=X[Y],H.next=19,Q.isInGroupRange();case 19:H.sent&&(J=Q);case 21:Y++,H.next=15;break;case 24:if(!J){H.next=30;break}return ee=void 0===(Z=J.mappings)?{}:Z,eo=void 0===(en=(et=J.config).releaseId)?"":en,ei=void 0===(ea=et.id)?"":ea,H.abrupt("return",{mappings:ee,releaseId:eo,variationId:ei});case 30:return H.abrupt("return",!1);case 31:case"end":return H.stop()}},H)}));return function(X){return H.apply(this,arguments)}}();X.trafficAllocation=en;var er=function(){var H=(0,B.default)(V.default.mark(function H(X){return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new Promise(function(H){Z?Q.once("calculateLifeCycle",function(){Z=!1,H(eo(X))}):(Z=!0,H(eo(X)))}));case 1:case"end":return H.stop()}},H)}));return function(X){return H.apply(this,arguments)}}(),eo=function(){var H=(0,B.default)(V.default.mark(function H(X){var U,J,B,$,en,er;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(U=(0,W.getPlugins)().request,ee&&!((new Date).getTime()-et>6e4)){H.next=7;break}return et=(new Date).getTime(),H.next=5,U.getServerTime();case 5:(ee=H.sent)||(0,Y.default)("fail to fetch server time");case 7:if(Q.emit("calculateLifeCycle"),Z=!1,$=void 0===(B=(J=X&&X.config).beginTime)?0:B,er=void 0===(en=J.endTime)?0:en,!($&&er&&ee>=$&&ee<=er)){H.next=12;break}return H.abrupt("return",!0);case 12:return H.abrupt("return",!1);case 13:case"end":return H.stop()}},H)}));return function(X){return H.apply(this,arguments)}}()},573:function(H,X,U){var J=U(994);Object.defineProperty(X,"__esModule",{value:!0}),X.Variation=Z;var V=J(U(756)),B=J(U(293)),W=J(U(587)),$=J(U(877)),Y=U(364),Q=J(U(858));function Z(H){var X=(0,Y.getPlugins)().uniqueFactor;this.component=H.component,this.module=H.module,this.cognationNode=H.cognationNode,this.config=H,this.mappings=H.variations,this.uniqueFactor=X}Z.prototype.key=function(){return"".concat(this.component,"-").concat(this.module)},Z.prototype.isInGroupRange=(0,B.default)(V.default.mark(function H(){var X,U,J,B,W,$,Y,Q,Z=arguments;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(X=Z.length>0&&void 0!==Z[0]?Z[0]:null,U=Z.length>1&&void 0!==Z[1]?Z[1]:null,"expt"==this.config.type){H.next=4;break}return H.abrupt("return",!1);case 4:if(this.cognationNode){H.next=6;break}return H.abrupt("return",!1);case 6:if("root_domain"!=(J=X||this.cognationNode).type){H.next=13;break}return H.next=10,this.isInGroupRange(J.node,J);case 10:case 20:case 30:return H.abrupt("return",H.sent);case 13:if("domain"!=J.type){H.next=26;break}return H.next=16,this._getExperimentHash({randomFactor:U.randomFactor});case 16:if(!((B=H.sent)>0&&this._isInRange(J.ratioRanges,B))){H.next=23;break}return H.next=20,this.isInGroupRange(J.node,J);case 23:case 39:case 49:case 50:return H.abrupt("return",!1);case 24:case 40:H.next=50;break;case 26:if("layer"!=J.type){H.next=42;break}if(!J.node){H.next=33;break}return H.next=30,this.isInGroupRange(J.node,J);case 33:return H.next=35,this._getExperimentHash({randomFactor:J.randomFactor});case 35:if(!((W=H.sent)>0)){H.next=39;break}return $=this._isInRange(this.config.ratioRanges,W),H.abrupt("return",$);case 42:if("launch_layer"!=J.type){H.next=50;break}return H.next=45,this._getExperimentHash({randomFactor:J.randomFactor});case 45:if(!((Y=H.sent)>0)){H.next=49;break}return Q=this._isInRange(this.config.ratioRanges,Y),H.abrupt("return",Q);case 51:case"end":return H.stop()}},H,this)})),Z.prototype.conditionFilter=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,X=this.config&&this.config.featureCondition||"";return!X||(0,$.default)(X,H)},Z.prototype._getExperimentHash=function(){var H=(0,B.default)(V.default.mark(function H(X){var U,J,B,$;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=X.randomFactor,J=-1,H.prev=2,H.next=5,this.uniqueFactor.get();case 5:(B=H.sent)?($=B+U,J=Math.abs(J=W.default.murmur3($,1526958062))%1e6):(J=-1,(0,Q.default)("no unique factor found for traffic allocation.")),H.next=13;break;case 9:H.prev=9,H.t0=H.catch(2),J=-1,(0,Q.default)("exception when generating hash code.");case 13:return H.abrupt("return",J);case 14:case"end":return H.stop()}},H,this,[[2,9]])}));return function(X){return H.apply(this,arguments)}}(),Z.prototype._isInRange=function(H,X){if(!H||!H.length)return!1;var U=!1;return H.forEach(function(H){X>=H[0]&&X<=H[1]&&(U=!0)}),U}},610:function(H,X,U){var J=U(994);X.A=void 0;var V=J(U(756)),B=J(U(293)),W=J(U(195)),$=U(573),Y=U(42),Q=U(103),Z=U(364),ee=J(U(168)),et=J(U(858)),en=new ee.default,er={},eo=function(){var H=(0,B.default)(V.default.mark(function H(X){var U,J,Z,ee,eo,ea,ei,eu,ec,es,el,ef,ed,ep,eh,eg,em,ev,ey,eb,ew;return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(U=X.appCode,J=X.expId,ee=void 0===(Z=X.filters)?null:Z,ea=void 0===(eo=X.lazy)||eo,eu=void 0===(ei=X.allocateTo)?"":ei,H.prev=1,U){H.next=7;break}return(0,et.default)("appCode is a required parameter."),en.emit("unlock"),er[U]=!1,H.abrupt("return",!1);case 7:if(J){H.next=12;break}return(0,et.default)("expId is a required parameter."),en.emit("unlock"),er[U]=!1,H.abrupt("return",!1);case 12:return ec=new W.default(U,J,ea),es={},H.next=16,ec.handleVersionPeriod();case 16:return el=H.sent,H.next=19,ec.handleShouldAllocateTraffic(el);case 19:if(ed=(ef=H.sent).localExpConfigUsable,ep=ef.shouldRequestExpConfig,eh=ef.expFile,!ea||!ep){H.next=37;break}if(setImmediate((0,B.default)(V.default.mark(function H(){return V.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,ec.processConfig(ep,eh);case 2:en.emit("unlock"),er[U]=!1;case 4:case"end":return H.stop()}},H)}))),!ed){H.next=34;break}return H.next=28,ec.getCurrentConfig();case 28:if(H.t0=H.sent,H.t0){H.next=31;break}H.t0={};case 31:es=H.t0,H.next=35;break;case 34:return H.abrupt("return",!1);case 35:H.next=45;break;case 37:return H.next=39,ec.processConfig(ep,eh);case 39:if(H.t1=H.sent,H.t1){H.next=42;break}H.t1={};case 42:es=H.t1,en.emit("unlock"),er[U]=!1;case 45:if(eg=es.groups,ev=[],ey=[],eb=null,(em=void 0===eg?[]:eg)&&em.length?em.forEach(function(H){var X=new $.Variation(H);ey.push(X)}):(0,et.default)("no groups found."),ey&&ey.length&&(ev=(0,Y.getExperiments)(ey)),ev){H.next=51;break}return H.abrupt("return",!1);case 51:if(!(ew=ev["ui_abtest-".concat(J)])){H.next=58;break}return H.next=55,(0,Q.trafficAllocation)(ew,ee,eu);case 55:eb=H.sent,H.next=59;break;case 58:(0,et.default)("no experiment found, please make sure the following parameters (appCode, component, module) are correct.");case 59:return H.abrupt("return",eb);case 62:return H.prev=62,H.t2=H.catch(1),H.abrupt("return",!1);case 65:case"end":return H.stop()}},H,null,[[1,62]])}));return function(X){return H.apply(this,arguments)}}();X.A=function(H,X){var U=H.appCode,J=H.expId,V=H.filters,B=void 0===V?null:V,W=H.lazy,$=void 0===W||W,Y=H.allocateTo,Q=void 0===Y?"":Y;return(0,Z.setPlugins)(X),new Promise(function(H){er[U]?en.once("unlock",function(){er[U]=!1,H(eo({appCode:U,expId:J,filters:B,lazy:$,allocateTo:Q}))}):(er[U]=!0,H(eo({appCode:U,expId:J,filters:B,lazy:$,allocateTo:Q})))})}},858:function(H,X,U){Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var J=U(364);X.default=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",X=(0,J.getPlugins)().logger;X&&X("LabSDK error: ".concat(H))}},168:function(H,X,U){var J=U(994);Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var V,B=J(U(738));V="function"==typeof Array.prototype.indexOf?function(H,X){return H.indexOf(X)}:function(H,X){for(var U=0,J=H.length,V=-1,B=!1;U<J&&!B;)H[U]===X&&(V=U,B=!0),U++;return V};var W=function(){this.events={}};W.prototype.on=function(H,X){"object"!==(0,B.default)(this.events[H])&&(this.events[H]=[]),this.events[H].push(X)},W.prototype.removeListener=function(H,X){var U;"object"===(0,B.default)(this.events[H])&&(U=V(this.events[H],X))>-1&&this.events[H].splice(U,1)},W.prototype.emit=function(H){var X,U,J,V=[].slice.call(arguments,1);if("object"===(0,B.default)(this.events[H]))for(J=(U=this.events[H].slice()).length,X=0;X<J;X++)U[X].apply(this,V)},W.prototype.once=function(H,X){this.on(H,function U(){this.removeListener(H,U),X.apply(this,arguments)})};var $=W;X.default=$},882:function(H,X,U){Object.defineProperty(X,"__esModule",{value:!0}),X.storageKeyFactory=void 0;var J=U(364);X.storageKeyFactory=function(H,X){var U=(0,J.getPlugins)().env,V=void 0===U?{}:U,B=V.getIkkyuEnv&&V.getIkkyuEnv()||"",W=V.getMode&&V.getMode()||"";return"".concat(H,"_").concat(B,"_").concat(W,"_").concat(X)}},364:function(H,X){Object.defineProperty(X,"__esModule",{value:!0}),X.getPlugins=function(){return U},X.setPlugins=function(H){U=H};var U={}},63:function(H,X){X.A=void 0;var U={};"undefined"!=typeof localStorage&&localStorage&&(U=localStorage);var J={getItem:function(H){return new Promise(function(X,J){U.getItem?X(U.getItem(H)):J()})},setItem:function(H,X){return new Promise(function(J,V){U.setItem?(U.setItem(H,X),J(null)):V()})},removeItem:function(H){return new Promise(function(X,J){U.removeItem?(U.removeItem(H),X(null)):J()})},getAllKeys:function(){return new Promise(function(H){H(U.length?Object.keys(U):[])})},clear:function(){return new Promise(function(H,X){U.clear?(U.clear(),H(null)):J.getAllKeys().then(function(U){Promise.all(U.map(function(H){return J.removeItem(H)})).then(function(){return H(null)}).catch(X)})})},length:function(){return new Promise(function(H){H(null!=U.length?U.length:0)})}},V=J;X.A=V},587:function(H,X,U){var J=U(627),V=U(46);H.exports=J,H.exports.murmur3=J,H.exports.murmur2=V},46:function(H){H.exports=function(H,X){for(var U,J=H.length,V=X^J,B=0;J>=4;)U=1540483477*(65535&(U=255&H.charCodeAt(B)|(255&H.charCodeAt(++B))<<8|(255&H.charCodeAt(++B))<<16|(255&H.charCodeAt(++B))<<24))+((1540483477*(U>>>16)&65535)<<16),V=1540483477*(65535&V)+((1540483477*(V>>>16)&65535)<<16)^(U=1540483477*(65535&(U^=U>>>24))+((1540483477*(U>>>16)&65535)<<16)),J-=4,++B;switch(J){case 3:V^=(255&H.charCodeAt(B+2))<<16;case 2:V^=(255&H.charCodeAt(B+1))<<8;case 1:V=1540483477*(65535&(V^=255&H.charCodeAt(B)))+((1540483477*(V>>>16)&65535)<<16)}return V=1540483477*(65535&(V^=V>>>13))+((1540483477*(V>>>16)&65535)<<16),(V^=V>>>15)>>>0}},627:function(H){H.exports=function(H,X){var U,J,V,B,W,$,Y,Q;for(U=3&H.length,J=H.length-U,V=X,W=3432918353,$=461845907,Q=0;Q<J;)Y=255&H.charCodeAt(Q)|(255&H.charCodeAt(++Q))<<8|(255&H.charCodeAt(++Q))<<16|(255&H.charCodeAt(++Q))<<24,++Q,V=27492+(65535&(B=5*(65535&(V=(V^=Y=(65535&(Y=(Y=(65535&Y)*W+(((Y>>>16)*W&65535)<<16)&4294967295)<<15|Y>>>17))*$+(((Y>>>16)*$&65535)<<16)&4294967295)<<13|V>>>19))+((5*(V>>>16)&65535)<<16)&4294967295))+((58964+(B>>>16)&65535)<<16);switch(Y=0,U){case 3:Y^=(255&H.charCodeAt(Q+2))<<16;case 2:Y^=(255&H.charCodeAt(Q+1))<<8;case 1:V^=Y=(65535&(Y=(Y=(65535&(Y^=255&H.charCodeAt(Q)))*W+(((Y>>>16)*W&65535)<<16)&4294967295)<<15|Y>>>17))*$+(((Y>>>16)*$&65535)<<16)&4294967295}return V^=H.length,V=2246822507*(65535&(V^=V>>>16))+((2246822507*(V>>>16)&65535)<<16)&4294967295,V=3266489909*(65535&(V^=V>>>13))+((3266489909*(V>>>16)&65535)<<16)&4294967295,(V^=V>>>16)>>>0}},791:function(H,X,U){!function(H){if(!H.setImmediate){var X,U,J,V,B,W=1,$={},Y=!1,Q=H.document,Z=Object.getPrototypeOf&&Object.getPrototypeOf(H);Z=Z&&Z.setTimeout?Z:H,"[object process]"===({}).toString.call(H.process)?X=function(H){process.nextTick(function(){et(H)})}:function(){if(H.postMessage&&!H.importScripts){var X=!0,U=H.onmessage;return H.onmessage=function(){X=!1},H.postMessage("","*"),H.onmessage=U,X}}()?(V="setImmediate$"+Math.random()+"$",B=function(X){X.source===H&&"string"==typeof X.data&&0===X.data.indexOf(V)&&et(+X.data.slice(V.length))},H.addEventListener?H.addEventListener("message",B,!1):H.attachEvent("onmessage",B),X=function(X){H.postMessage(V+X,"*")}):H.MessageChannel?((J=new MessageChannel).port1.onmessage=function(H){et(H.data)},X=function(H){J.port2.postMessage(H)}):Q&&"onreadystatechange"in Q.createElement("script")?(U=Q.documentElement,X=function(H){var X=Q.createElement("script");X.onreadystatechange=function(){et(H),X.onreadystatechange=null,U.removeChild(X),X=null},U.appendChild(X)}):X=function(H){setTimeout(et,0,H)},Z.setImmediate=function(H){"function"!=typeof H&&(H=Function(""+H));for(var U=Array(arguments.length-1),J=0;J<U.length;J++)U[J]=arguments[J+1];var V={callback:H,args:U};return $[W]=V,X(W),W++},Z.clearImmediate=ee}function ee(H){delete $[H]}function et(H){if(Y)setTimeout(et,0,H);else{var X=$[H];if(X){Y=!0;try{!function(H){var X=H.callback,U=H.args;switch(U.length){case 0:X();break;case 1:X(U[0]);break;case 2:X(U[0],U[1]);break;case 3:X(U[0],U[1],U[2]);break;default:X.apply(void 0,U)}}(X)}finally{ee(H),Y=!1}}}}}("undefined"==typeof self?void 0===U.g?this:U.g:self)},293:function(H){function X(H,X,U,J,V,B,W){try{var $=H[B](W),Y=$.value}catch(H){return void U(H)}$.done?X(Y):Promise.resolve(Y).then(J,V)}H.exports=function(H){return function(){var U=this,J=arguments;return new Promise(function(V,B){var W=H.apply(U,J);function $(H){X(W,V,B,$,Y,"next",H)}function Y(H){X(W,V,B,$,Y,"throw",H)}$(void 0)})}},H.exports.__esModule=!0,H.exports.default=H.exports},994:function(H){H.exports=function(H){return H&&H.__esModule?H:{default:H}},H.exports.__esModule=!0,H.exports.default=H.exports},633:function(H,X,U){var J=U(738).default;function V(){H.exports=V=function(){return U},H.exports.__esModule=!0,H.exports.default=H.exports;var X,U={},B=Object.prototype,W=B.hasOwnProperty,$=Object.defineProperty||function(H,X,U){H[X]=U.value},Y="function"==typeof Symbol?Symbol:{},Q=Y.iterator||"@@iterator",Z=Y.asyncIterator||"@@asyncIterator",ee=Y.toStringTag||"@@toStringTag";function et(H,X,U){return Object.defineProperty(H,X,{value:U,enumerable:!0,configurable:!0,writable:!0}),H[X]}try{et({},"")}catch(H){et=function(H,X,U){return H[X]=U}}function en(H,X,U,J){var V=Object.create((X&&X.prototype instanceof es?X:es).prototype);return $(V,"_invoke",{value:ey(H,U,new e_(J||[]))}),V}function er(H,X,U){try{return{type:"normal",arg:H.call(X,U)}}catch(H){return{type:"throw",arg:H}}}U.wrap=en;var eo="suspendedStart",ea="suspendedYield",ei="executing",eu="completed",ec={};function es(){}function el(){}function ef(){}var ed={};et(ed,Q,function(){return this});var ep=Object.getPrototypeOf,eh=ep&&ep(ep(ek([])));eh&&eh!==B&&W.call(eh,Q)&&(ed=eh);var eg=ef.prototype=es.prototype=Object.create(ed);function em(H){["next","throw","return"].forEach(function(X){et(H,X,function(H){return this._invoke(X,H)})})}function ev(H,X){var U;function V(U,B,$,Y){var Q=er(H[U],H,B);if("throw"!==Q.type){var Z=Q.arg,ee=Z.value;return ee&&"object"==J(ee)&&W.call(ee,"__await")?X.resolve(ee.__await).then(function(H){V("next",H,$,Y)},function(H){V("throw",H,$,Y)}):X.resolve(ee).then(function(H){Z.value=H,$(Z)},function(H){return V("throw",H,$,Y)})}Y(Q.arg)}$(this,"_invoke",{value:function(H,J){function B(){return new X(function(X,U){V(H,J,X,U)})}return U=U?U.then(B,B):B()}})}function ey(H,U,J){var V=eo;return function(B,W){if(V===ei)throw Error("Generator is already running");if(V===eu){if("throw"===B)throw W;return{value:X,done:!0}}for(J.method=B,J.arg=W;;){var $=J.delegate;if($){var Y=eb($,J);if(Y){if(Y===ec)continue;return Y}}if("next"===J.method)J.sent=J._sent=J.arg;else if("throw"===J.method){if(V===eo)throw V=eu,J.arg;J.dispatchException(J.arg)}else"return"===J.method&&J.abrupt("return",J.arg);V=ei;var Q=er(H,U,J);if("normal"===Q.type){if(V=J.done?eu:ea,Q.arg===ec)continue;return{value:Q.arg,done:J.done}}"throw"===Q.type&&(V=eu,J.method="throw",J.arg=Q.arg)}}}function eb(H,U){var J=U.method,V=H.iterator[J];if(V===X)return U.delegate=null,"throw"===J&&H.iterator.return&&(U.method="return",U.arg=X,eb(H,U),"throw"===U.method)||"return"!==J&&(U.method="throw",U.arg=TypeError("The iterator does not provide a '"+J+"' method")),ec;var B=er(V,H.iterator,U.arg);if("throw"===B.type)return U.method="throw",U.arg=B.arg,U.delegate=null,ec;var W=B.arg;return W?W.done?(U[H.resultName]=W.value,U.next=H.nextLoc,"return"!==U.method&&(U.method="next",U.arg=X),U.delegate=null,ec):W:(U.method="throw",U.arg=TypeError("iterator result is not an object"),U.delegate=null,ec)}function ew(H){var X={tryLoc:H[0]};1 in H&&(X.catchLoc=H[1]),2 in H&&(X.finallyLoc=H[2],X.afterLoc=H[3]),this.tryEntries.push(X)}function ex(H){var X=H.completion||{};X.type="normal",delete X.arg,H.completion=X}function e_(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(ew,this),this.reset(!0)}function ek(H){if(H||""===H){var U=H[Q];if(U)return U.call(H);if("function"==typeof H.next)return H;if(!isNaN(H.length)){var V=-1,B=function U(){for(;++V<H.length;)if(W.call(H,V))return U.value=H[V],U.done=!1,U;return U.value=X,U.done=!0,U};return B.next=B}}throw TypeError(J(H)+" is not iterable")}return el.prototype=ef,$(eg,"constructor",{value:ef,configurable:!0}),$(ef,"constructor",{value:el,configurable:!0}),el.displayName=et(ef,ee,"GeneratorFunction"),U.isGeneratorFunction=function(H){var X="function"==typeof H&&H.constructor;return!!X&&(X===el||"GeneratorFunction"===(X.displayName||X.name))},U.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,ef):(H.__proto__=ef,et(H,ee,"GeneratorFunction")),H.prototype=Object.create(eg),H},U.awrap=function(H){return{__await:H}},em(ev.prototype),et(ev.prototype,Z,function(){return this}),U.AsyncIterator=ev,U.async=function(H,X,J,V,B){void 0===B&&(B=Promise);var W=new ev(en(H,X,J,V),B);return U.isGeneratorFunction(X)?W:W.next().then(function(H){return H.done?H.value:W.next()})},em(eg),et(eg,ee,"Generator"),et(eg,Q,function(){return this}),et(eg,"toString",function(){return"[object Generator]"}),U.keys=function(H){var X=Object(H),U=[];for(var J in X)U.push(J);return U.reverse(),function H(){for(;U.length;){var J=U.pop();if(J in X)return H.value=J,H.done=!1,H}return H.done=!0,H}},U.values=ek,e_.prototype={constructor:e_,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=X,this.done=!1,this.delegate=null,this.method="next",this.arg=X,this.tryEntries.forEach(ex),!H)for(var U in this)"t"===U.charAt(0)&&W.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=X)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(J,V){return $.type="throw",$.arg=H,U.next=J,V&&(U.method="next",U.arg=X),!!V}for(var V=this.tryEntries.length-1;V>=0;--V){var B=this.tryEntries[V],$=B.completion;if("root"===B.tryLoc)return J("end");if(B.tryLoc<=this.prev){var Y=W.call(B,"catchLoc"),Q=W.call(B,"finallyLoc");if(Y&&Q){if(this.prev<B.catchLoc)return J(B.catchLoc,!0);if(this.prev<B.finallyLoc)return J(B.finallyLoc)}else if(Y){if(this.prev<B.catchLoc)return J(B.catchLoc,!0)}else{if(!Q)throw Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return J(B.finallyLoc)}}}},abrupt:function(H,X){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc<=this.prev&&W.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var V=J;break}}V&&("break"===H||"continue"===H)&&V.tryLoc<=X&&X<=V.finallyLoc&&(V=null);var B=V?V.completion:{};return B.type=H,B.arg=X,V?(this.method="next",this.next=V.finallyLoc,ec):this.complete(B)},complete:function(H,X){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&X&&(this.next=X),ec},finish:function(H){for(var X=this.tryEntries.length-1;X>=0;--X){var U=this.tryEntries[X];if(U.finallyLoc===H)return this.complete(U.completion,U.afterLoc),ex(U),ec}},catch:function(H){for(var X=this.tryEntries.length-1;X>=0;--X){var U=this.tryEntries[X];if(U.tryLoc===H){var J=U.completion;if("throw"===J.type){var V=J.arg;ex(U)}return V}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ek(H),resultName:U,nextLoc:J},"next"===this.method&&(this.arg=X),ec}},U}H.exports=V,H.exports.__esModule=!0,H.exports.default=H.exports},738:function(H){function X(J){return H.exports=X="function"==typeof Symbol&&"symbol"==U(Symbol.iterator)?function(H){return void 0===H?"undefined":U(H)}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":void 0===H?"undefined":U(H)},H.exports.__esModule=!0,H.exports.default=H.exports,X(J)}H.exports=X,H.exports.__esModule=!0,H.exports.default=H.exports},756:function(H,X,U){var J=U(633)();H.exports=J;try{regeneratorRuntime=J}catch(H){"object"==typeof globalThis?globalThis.regeneratorRuntime=J:Function("r","regeneratorRuntime = r")(J)}}},X={};function J(U){var V=X[U];if(void 0!==V)return V.exports;var B=X[U]={exports:{}};return H[U].call(B.exports,B,B.exports,J),B.exports}J.n=function(H){var X=H&&H.__esModule?function(){return H.default}:function(){return H};return J.d(X,{a:X}),X},J.d=function(H,X){for(var U in X)J.o(X,U)&&!J.o(H,U)&&Object.defineProperty(H,U,{enumerable:!0,get:X[U]})},J.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(H){if("object"==typeof window)return window}}(),J.o=function(H,X){return Object.prototype.hasOwnProperty.call(H,X)},J.r=function(H){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})};var V={};return function(){function H(X){return(H="function"==typeof Symbol&&"symbol"==U(Symbol.iterator)?function(H){return void 0===H?"undefined":U(H)}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":void 0===H?"undefined":U(H)})(X)}function X(X,U,J){return(U=function(X){var U=function(X){if("object"!=H(X)||!X)return X;var U=X[Symbol.toPrimitive];if(void 0!==U){var J=U.call(X,"string");if("object"!=H(J))return J;throw TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(X);return"symbol"==H(U)?U:U+""}(U))in X?Object.defineProperty(X,U,{value:J,enumerable:!0,configurable:!0,writable:!0}):X[U]=J,X}J.r(V),J.d(V,{default:function(){return eT}}),J(791);var B=J(610);function W(H){var X="";try{X=decodeURIComponent(location.search.replace(RegExp("^(?:.*[&\\?]"+encodeURIComponent(H).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}catch(H){return null}return X}function $(){this.mode="release",this.env="online";var X,U=W("ab_beta")||!1,J=W("ab_env")||((X="object"===("undefined"==typeof location?"undefined":H(location))&&location.hostname||"")&&(X.indexOf("-p.lazada.")>=0||X.indexOf("-p.daraz.")>=0||X.indexOf("-p.shop.")>=0||X.indexOf("-p.youpik")>=0||X.indexOf("pre-wormhole.")>=0||X.indexOf("pre-www.")>=0)?"pre":"online");U&&"true"==U&&(this.mode="beta"),this.env=J||this.env}$.prototype.getMode=function(){return this.mode||"release"},$.prototype.getIkkyuEnv=function(){return this.env||"online"};var Y=$;function Q(H,X,U,J,V,B,W){try{var $=H[B](W),Y=$.value}catch(H){return void U(H)}$.done?X(Y):Promise.resolve(Y).then(J,V)}function Z(H){return function(){var X=this,U=arguments;return new Promise(function(J,V){var B=H.apply(X,U);function W(H){Q(B,J,V,W,$,"next",H)}function $(H){Q(B,J,V,W,$,"throw",H)}W(void 0)})}}var ee=J(756),et=J.n(ee),en=J(63);function er(){}er.prototype.getItem=function(){var H=Z(et().mark(function H(X){return et().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,en.A.getItem(X);case 3:return H.abrupt("return",H.sent);case 6:return H.prev=6,H.t0=H.catch(0),H.abrupt("return",null);case 9:case"end":return H.stop()}},H,null,[[0,6]])}));return function(X){return H.apply(this,arguments)}}(),er.prototype.setItem=function(){var H=Z(et().mark(function H(X,U){return et().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,en.A.setItem(X,U);case 3:return H.abrupt("return",H.sent);case 6:return H.prev=6,H.t0=H.catch(0),H.abrupt("return",null);case 9:case"end":return H.stop()}},H,null,[[0,6]])}));return function(X,U){return H.apply(this,arguments)}}();var eo=er,ea="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform,ei="callback";function eu(){return"jsonp_".concat(Date.now(),"_").concat(Math.ceil(1e5*Math.random()))}function ec(H){try{delete window[H]}catch(X){window[H]=void 0}}function es(H){document.getElementsByTagName("head")[0].removeChild(H)}function el(H,X,U,J,V,B){this.measure=H,this.debugCallback=X,this.getServerTimeMethod=U,this.getMetaInfo=J,this.getExpConfig=V,this.customTimeout=B}el.prototype.getJSON=function(){var H=this,X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(X.indexOf("lab-js-abtest.lazada.com/abtest/h5/config")>-1){if(X.indexOf("metaInfo.json")>-1||X.indexOf("beta_metaInfo.json")>-1){if(this.getMetaInfo)return this.getMetaInfo()}else if(this.getExpConfig)return this.getExpConfig()}return new Promise(function(U){var J;if(X){if(H.measure)try{var V=new URL(X).pathname.split("/"),B=V[V.length-1];J="Assert(".concat(B,")"),console.time(J)}catch(H){console.log(H)}return ef(X,H.customTimeout).then(function(H){J&&console.timeEnd(J),U(H.json())}).catch(function(X){try{H.debugCallback&&H.debugCallback(X)}catch(H){}U({})})}U({})})},el.prototype.getServerTime=function(){var H=this;return this.getServerTimeMethod?this.getServerTimeMethod():(function(H){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ea){var U=__weex_require__("@weex-module/stream");return new Promise(function(J,V){var B=null!=X.jsonpCallback?X.jsonpCallback:ei,W=X.jsonpCallbackFunctionName||eu();-1==H.indexOf(B)&&(H=(H+=-1===H.indexOf("?")?"?":"&")+B+"="+W);var $={url:H,method:"GET",dataType:"jsonp",type:"jsonp"};U.fetch($,function(H){try{if("string"==typeof H&&(H=JSON.parse(H)).data&&"string"==typeof H.data&&H.ok)try{H.data=JSON.parse(H.data)}catch(H){throw Error("the response.data in not valid json")}J({ok:H.ok,status:H.status,statusText:H.statusText,data:H.data,json:function(){return Promise.resolve(H.data)}})}catch(H){V(H)}},function(H){})})}return new Promise(function(U,J){var V,B=null!=X.timeout?X.timeout:5e3,W=null!=X.jsonpCallback?X.jsonpCallback:ei,$=X.jsonpCallbackFunctionName||eu(),Y=document.createElement("script");window[$]=function(H){U({ok:!0,json:function(){return Promise.resolve(H)}}),V&&clearTimeout(V),es(Y),ec($)},H+=-1===H.indexOf("?")?"?":"&",Y.setAttribute("src",H+W+"="+$),document.getElementsByTagName("head")[0].appendChild(Y),V=setTimeout(function(){J(Error("JSONP request to ".concat(H," timed out"))),es(Y),window[$]=function(){ec($)}},B)})})("https://time-ak.alicdn.com/t/gettime",{timeout:5e3}).then(function(H){return H.json()}).then(function(H){return 1e3*(H&&H.time||0)}).catch(function(X){try{H.debugCallback&&H.debugCallback(X)}catch(H){}return null}).then(function(H){return H||Date.now()})};var ef=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=!1;return new Promise(function(J,V){var B=setTimeout(function(){U=!0,V(Error("Request timed out"))},X||3e3),W=new XMLHttpRequest;W.addEventListener("load",function(){J({json:function(){return JSON.parse(W.responseText)}})}),W.addEventListener("error",function(H){clearTimeout(B),U||V(H)}),W.addEventListener("abort",function(){clearTimeout(B),U||V()}),W.open("GET",H),W.send()})},ed=el,ep="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform;function eh(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.factor=H}eh.prototype.get=Z(et().mark(function H(){var X,U,J;return et().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(this.factor){H.next=2;break}return H.abrupt("return",eg());case 2:if("function"!=typeof this.factor){H.next=7;break}return H.next=5,this.factor();case 5:return X=H.sent,H.abrupt("return",X);case 7:if("utdid"!==this.factor){H.next=12;break}return H.next=10,ev();case 10:return U=H.sent,H.abrupt("return",U);case 12:if("uid"!==this.factor){H.next=17;break}return H.next=15,em();case 15:return J=H.sent,H.abrupt("return",J);case 17:return H.abrupt("return",this.factor);case 19:case"end":return H.stop()}},H,this)}));var eg=function(){var H="";return(H=(H=ep?weex.requireModule("cookie").get():document.cookie)?H.match(/(?:^cna|;\s*cna)=(.*?)($|;)/):"")?H[1]:""},em=function(){var H=Z(et().mark(function H(){return et().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new Promise(function(H,X){H(null),null.getUserInfo(function(X){X&&X.info&&X.info.userId?H(X.info.userId):H(null)})}));case 1:case"end":return H.stop()}},H)}));return function(){return H.apply(this,arguments)}}(),ev=function(){var H=Z(et().mark(function H(){return et().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",new Promise(function(H){if(window.WindVane&&window.WindVane.isAvailable){var X=navigator&&navigator.userAgent||"",U=X&&/AliApp\((TMG)/.test(X)?"GBWVUserInfo":"LAWVUserInfo";return window.WindVane.call(U,"getUserInfo",{},function(X){H(X.utdId)},function(){return H(null)})}H(null)}));case 1:case"end":return H.stop()}},H)}));return function(){return H.apply(this,arguments)}}(),ey=eh;function eb(){this.handles={}}eb.prototype.emit=function(H,X){(this.handles[H]||[]).forEach(function(H){try{H(X)}catch(H){console.log(H)}})},eb.prototype.on=function(H,X){if(X&&H){var U=this.handles[H]||[];U.push(X),this.handles[H]=U}};var ew=eb,ex="/lazada-ab-test.h5-sdk.traffic-allocation",e_="/lazada-ab-test.h5-sdk.custom-track",ek="undefined"!=typeof window&&"onload"in window,eC=["0","0"];function eI(){if(ek&&window.goldlog){var H=window.goldlog.spm_ab;eC=H&&Array.isArray(H)&&"0.0"!==H.join(".")?H:eC}return[eC[0],eC[1]]}function eE(H,X){return[].concat(eI(),H||0,X||0)}function eS(){var H=this,X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",V=arguments.length>3?arguments[3]:void 0,B=eE()&&eE().join(".");if(this.spmid=B,this.releaseId=X,this.variationId=U,this.utparam=X&&U?"feabtest=aliabtest".concat(X,"_").concat(U):null,this.utparam&&(this.utparam+="&version=3.0.2&jsname=lab-core-web&factor=".concat(J)),this.utparam){this.spmid=eE()&&eE().join(".");var W=function(){window.goldlog&&window.goldlog.record?window.goldlog.record(ex,"EXP","".concat(H.utparam,"&spmid=").concat(H.spmid),"GET"):((window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[ex,"EXP","".concat(H.utparam,"&spmid=").concat(H.spmid),"GET"]}),(window.aplus_queue||(window.aplus_queue=[])).push({action:"aplus.record",arguments:[ex,"EXP","".concat(H.utparam,"&spmid=").concat(H.spmid),"GET"]}))};if(V&&"function"==typeof V)try{var $=V();"boolean"==typeof $&&$&&W(),$&&$.then&&$.then(function(H){"boolean"==typeof H&&H&&W()}).catch(function(){})}catch(H){}else W()}}function eO(H,X){var U=Object.keys(H);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(H);X&&(J=J.filter(function(X){return Object.getOwnPropertyDescriptor(H,X).enumerable})),U.push.apply(U,J)}return U}function eA(H){for(var U=1;U<arguments.length;U++){var J=null!=arguments[U]?arguments[U]:{};U%2?eO(Object(J),!0).forEach(function(U){X(H,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(J)):eO(Object(J)).forEach(function(X){Object.defineProperty(H,X,Object.getOwnPropertyDescriptor(J,X))})}return H}function ej(H,X){return(0,B.A)(H,X).then(function(U){var J=H.measure,V=X.storage,B=X.storageKey,W=U||{},$=W.releaseId,Y=W.variationId;return J&&console.timeEnd("Complete"),!(!$||!Y)&&(V.setItem(B,JSON.stringify(U)),eP(U,H.notTracker,H.factor,H.conditionFn))})}function eP(H,X,U,J){var V=H.releaseId,B=H.variationId;if(V&&B){if(X)return H;var W=new eS(V,B,U,J);return eA(eA({},H),{},{tracker:W})}return!1}eS.prototype.expTracker=function(H){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",U=X?encodeURIComponent(X):null,J=U?"&aliABExtra=".concat(U):"";this.utparam&&this.spmid&&window.goldlog.record(e_,"EXP","".concat(this.utparam,"&spmid=").concat(this.spmid,"&itemspm=").concat(H).concat(J),"GET")},eS.prototype.clkTracker=function(H){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",U=X?encodeURIComponent(X):null,J=U?"&aliABExtra=".concat(U):"";this.utparam&&this.spmid&&window.goldlog.record(e_,"CLK","".concat(this.utparam,"&spmid=").concat(this.spmid,"&itemspm=").concat(H).concat(J),"GET")},eS.prototype.spmDecorator=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";H||console.warning("spmc cannot be empty.");var U=eI().join(".");return"".concat(U,".").concat(H,"/evo").concat(this.releaseId,"b").concat(this.variationId,".").concat(X||0)},eS.prototype.getDecoratedSpmSegment=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||console.warning("spm segment cannot be empty."),"evo".concat(this.releaseId,"b").concat(this.variationId)};var eT={getResult:function(H){var X=H.appCode,U=H.expId,J=H.measure,V=H.factor,B=H.lazy,$=H.debugCallback,Q=H.allocateTo,Z=H.getServerTime,ee=H.logger,et=H.getMetaInfo,en=H.getExpConfig,er=H.customTimeout,ea=H.condition,ei=new Y,eu=new eo,ec=new ed(!!J,$,Z,et,en,er),es=new ey(V),el=new ew,ef=Q||W("allocate_to")||"",ep=null==B||B;return J&&(console.time("Complete"),console.time("Exp Result"),el.on("config.source",function(H){console.log("dataSource: ",H.dataSource),console.timeEnd("Exp Result")}),el.on("config.get",function(){console.time("TrafficAllocation")}),el.on("group.get",function(){console.timeEnd("TrafficAllocation")})),new Promise(function(H){return es.get().catch(function(H){return console.log(H)}).then(function(V){var B="".concat("LAB_RESULT_KEY","-").concat(X,"-").concat(U,"-").concat(V);return eu.getItem(B).then(function(W){try{var $=JSON.parse(W),Y=$||{},Q=Y.releaseId,Z=Y.variationId;return Q&&Z?(ej({appCode:X,expId:U,lazy:ep,allocateTo:ef,notTracker:!0,factor:V,conditionFn:ea},{storage:eu,request:ec,uniqueFactor:es,env:ei,debugEmitter:el,storageKey:B,logger:ee}),H(eP($,!1,V,ea))):H(ej({appCode:X,expId:U,lazy:ep,allocateTo:ef,measure:J,factor:V,conditionFn:ea},{storage:eu,request:ec,uniqueFactor:es,env:ei,debugEmitter:el,storageKey:B,logger:ee}))}catch(W){return H(ej({appCode:X,expId:U,lazy:ep,allocateTo:ef,measure:J,factor:V,conditionFn:ea},{storage:eu,request:ec,uniqueFactor:es,env:ei,debugEmitter:el,storageKey:B,logger:ee}))}})})})},ABTracker:eS}}(),V}()})}(lib,lib.exports);var libExports=lib.exports,LabCore=getDefaultExportFromCjs(libExports);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(H){for(var X=1;X<arguments.length;X++){var U=arguments[X];for(var J in U)({}).hasOwnProperty.call(U,J)&&(H[J]=U[J])}return H}).apply(null,arguments)}var noop=function(){},_goldlog={record:noop};function parseArgs(H){var X=[],U=new Date().getTime();return"[object Object]"===({}).toString.call(H)?(Object.keys(H).forEach(function(U){X.push(U+"="+H[U])}),X.join("&")):"string"==typeof H?H.concat("&t="+U):""}var getSpm=function(H,X){return void 0===H&&(H=""),void 0===X&&(X=""),getSpmAB()+"."+(H||0)+"."+(X||0)},getSpmAB=function(){var H,X=window.goldlog||_goldlog;if(X.spm_ab){var U=null==X?void 0:X.spm_ab;H=Array.isArray(U)?U.join("."):H}else{var J=document.getElementsByTagName("meta");"."===(H=J&&J["spm-id"]&&J["spm-id"].content)&&(H="0.0")}return H},sendPv=function(H,X,U){void 0===H&&(H={});var J=window.goldlog_queue||(window.goldlog_queue=[]);if(U){if(!X){var V=getSpmAB()||"";X=null==V?void 0:V.split(".")[0]}J.push({action:"goldlog.setPageSPM",arguments:[X,U]})}J.push({action:"goldlog.sendPV",arguments:[{is_auto:!1},_extends({},H)]})},click=function(H,X,U){void 0===H&&(H=""),void 0===X&&(X={}),void 0===U&&(U="get"),actionForGoldLog(H,X,U,"CLK")},expose=function(H,X,U){void 0===H&&(H=""),void 0===X&&(X={}),void 0===U&&(U="get"),actionForGoldLog(H,X,U,"EXP")},other=function(H,X,U){void 0===H&&(H=""),void 0===X&&(X={}),void 0===U&&(U="get"),actionForGoldLog(H,X,U,"OTHER")},actionForGoldLog=function(H,X,U,J){void 0===H&&(H="/lazada.basic-tracker.action"),void 0===U&&(U="get"),void 0===J&&(J="EXP");var V=window.goldlog_queue||(window.goldlog_queue=[]),B=X;"[object Object]"===({}).toString.call(X)?(X["spm-cnt"]||(B["spm-cnt"]=getSpm()),X.spm||(B.spm=X["spm-cnt"]||getSpm()),B._g_encode="utf-8"):(0>X.indexOf("spm-cnt")&&(B=X?X+"&spm-cnt="+getSpm():"spm-cnt="+getSpm()),B+="&_g_encode = utf-8"),V.push({action:"goldlog.record",arguments:[H,J,parseArgs(B),U]})},setPageName=function(H){H&&(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-pagename",H]})},getSpmLink=function(H,X,U){if(!H)return H;var J="spm="+getSpm(X,U),V=H.split("#"),B=V[0],W=V[1],$=B.split("?")[1],Y=((void 0===$?"":$).match(/(.*?)=(.*?)(&|$)/g)||[]).map(function(H){return"&"===H[H.length-1]?H.substring(0,H.length-1):H}).reduce(function(H,X){var U=X.match(/(.*)=(.*)/);return H[U[1]]=U[2],H},{});if(Y.spm)return H;var Q=B;return B.indexOf("?")>-1?Object.keys(Y).length>0?Q+="&"+J:Q+=""+J:Q+="?"+J,W&&(Q+="#"+W),Q},Tracker={getSpm:getSpm,getSpmAB:getSpmAB,sendPv:sendPv,click:click,expose:expose,other:other,setPageName:setPageName,getSpmLink:getSpmLink},labAppCode="lazada-lab-trade-payment",labIdMap={sg:{staging:"17255898309646",prod:"17276031085767"},vn:{staging:"17255898304877",prod:"17276031088430"},my:{staging:"17255898306210",prod:"17276031085052"},ph:{staging:"17255898304720",prod:"17276031082484"},th:{staging:"17255898303275",prod:"17276031086221"},id:{staging:"17255898304681",prod:"17276031082452"}};function getLabId(){var H,X,U=null===(H=getEnv().regionID)||void 0===H?void 0:H.toLowerCase(),J=isPre()?"staging":"prod";return null===(X=labIdMap[U])||void 0===X?void 0:X[J]}var labResultPromise=null;function getLabParams(){return{appCode:labAppCode,expId:getLabId(),lazy:!1}}function getLabResult(){return _getLabResult.apply(this,arguments)}function _getLabResult(){return(_getLabResult=_async_to_generator(function(){var H,X,U,J;return __generator(this,function(V){switch(V.label){case 0:return U=getLabParams(),[4,null===(H=(X=LabCore).getResult)||void 0===H?void 0:H.call(X,U)];case 1:if(!(J=V.sent()))return console.log("[Anonymous Cart sdk] no lab result"),[2,{}];return[2,(J||{}).mappings]}})})).apply(this,arguments)}function isAnonymousCartEnabled(){return _isAnonymousCartEnabled.apply(this,arguments)}function _isAnonymousCartEnabled(){return(_isAnonymousCartEnabled=_async_to_generator(function(){var H,X,U;return __generator(this,function(J){switch(J.label){case 0:if(location.href.indexOf("isAnonymousCart=true")>=0)return console.log("[Anonymous Cart sdk] force anonymous cart"),[2,{result:!0,reason:"URL_PARAM_FORCE"}];if(location.href.indexOf("isAnonymousCart=false")>=0)return console.log("[Anonymous Cart sdk] force disable anonymous cart"),[2,{result:!1,reason:"URL_PARAM_FORCE"}];return[4,labResultPromise];case 1:return void 0===(H=(J.sent()||{}).enableAnonymousCart)?(console.log("[Anonymous Cart sdk] cannot get lab result"),X=!1,U="NO_LAB_RESULT"):(X="true"===H,U=H),Tracker.other("/Lazadacheckout.AnonymousCart.GetLabResult",{isLabMatched:X,reason:U}),[2,{result:X,reason:U}]}})})).apply(this,arguments)}labResultPromise=getLabResult();var sdkEntity={version:"1.0.0",isHitAnonymous:!1,hasInit:!1};function initAnonymousCartSdk(){return _initAnonymousCartSdk.apply(this,arguments)}function _initAnonymousCartSdk(){return(_initAnonymousCartSdk=_async_to_generator(function(){var H;return __generator(this,function(X){switch(X.label){case 0:if(sdkEntity.hasInit)return[2];return console.log("[Anonymous Cart sdk] init...."),window.lib_anonymousCart={},window.lib_anonymousCart.sdkEntity=sdkEntity,window.lib_anonymousCart.addItem=addItem,window.lib_anonymousCart.onCountChange=onCountChange,window.lib_anonymousCart.freshLogin=freshLogin,window.lib_anonymousCart.getAnonymousCartCache=getAnonymousCartCache,window.lib_anonymousCart.setAnonymousCartCache=setAnonymousCartCache,window.lib_anonymousCart.removeAnonymousCartCache=removeAnonymousCartCache,window.lib_anonymousCart.isAnonymousCart=isAnonymousCart,[4,isAnonymousCartEnabled()];case 1:return console.log("[Anonymous Cart sdk] isAnonymousCart : ",H=X.sent().result),sdkEntity.isHitAnonymous=H,sdkEntity.hasInit=!0,[2]}})})).apply(this,arguments)}function addItem(H,X,U){return _addItem.apply(this,arguments)}function _addItem(){return(_addItem=_async_to_generator(function(H,X,U){var J;return __generator(this,function(V){switch(V.label){case 0:if(!H||Array.isArray(H)&&0===H.length)return console.log("[Anonymous Cart sdk] Add Item for nothing "),[2];if(sdkEntity.hasInit)return[3,2];return[4,initAnonymousCartSdk()];case 1:V.sent(),V.label=2;case 2:if(sdkEntity.isHitAnonymous){if(console.log("[Anonymous Cart sdk] hit experiment "),(J=addAnonymousCartItem(sdkConfig.__localStorage_key__,H)).ret)X&&X({retMsg:J.retMsg,success:!0}),sdkEntity.countChangeCallback&&sdkEntity.countChangeCallback(J.lsCount),window.lib_cart&&window.lib_cart.refresh();else{if(J.exceedLimit)return X&&X({msgInfo:J.retMsg,success:!1}),[2];U&&U({retMsg:J.retMsg,success:!1})}}else U&&U({retMsg:"[Anonymous Cart sdk] not hit experiment ",success:!1});return[2]}})})).apply(this,arguments)}function onCountChange(H){sdkEntity.countChangeCallback=H,sdkEntity.cartNum&&H(sdkEntity.cartNum)}function freshLogin(){return _freshLogin.apply(this,arguments)}function _freshLogin(){return(_freshLogin=_async_to_generator(function(){return __generator(this,function(H){return window.isLogin=!0,window.dispatchEvent(new CustomEvent("did_login",{})),fetchCartInfo(),[2]})})).apply(this,arguments)}function getAnonymousCartCache(H){var X=getLocalStorage(H||sdkConfig.__localStorage_key__),U=X.localStorageVal;return X.ret,U}function setAnonymousCartCache(H,X){var U=modifyAnonymousCartItem(X||sdkConfig.__localStorage_key__,H),J=U.ret,V=U.lsCount;return J&&sdkEntity.countChangeCallback&&sdkEntity.countChangeCallback(V),J}function removeAnonymousCartCache(H){var X=removeLocalStorage(H||sdkConfig.__localStorage_key__);return X&&!window.isLogin&&sdkEntity.countChangeCallback&&sdkEntity.countChangeCallback(0),X}function isAnonymousCart(){return _isAnonymousCart.apply(this,arguments)}function _isAnonymousCart(){return(_isAnonymousCart=_async_to_generator(function(){var H;return __generator(this,function(X){switch(X.label){case 0:if(sdkEntity.hasInit)return[2,sdkEntity.isHitAnonymous];return[4,isAnonymousCartEnabled()];case 1:return H=X.sent().result,sdkEntity.isHitAnonymous=H,sdkEntity.hasInit=!0,[2,H]}})})).apply(this,arguments)}function loadLangs(){var H=getEnv().language,X=null;X="id"===H?require$$0:"ms"===H?require$$1:"zh"===H?require$$2:"th"===H?require$$3:"vi"===H?require$$4:require$$5,setTimeout(function(){try{if(window.flute_langs&&window.flute_langs.voyager){var H,U;window.flute_langs.voyager=_object_spread({},null===(U=window)||void 0===U?void 0:null===(H=U.flute_langs)||void 0===H?void 0:H.voyager,X)}}catch(H){console.log("[AnonymousCartSDK] inject lang err",H)}},1e3),$i18n$1.setConfig({appName:"voyager"})}window.lib_anonymousCart={},fetchCartInfo(),loadLangs(),initAnonymousCartSdk(),exports.freshLogin=freshLogin,exports.getAnonymousCartCache=getAnonymousCartCache,exports.isAnonymousCart=isAnonymousCart,exports.onCountChange=onCountChange,exports.removeAnonymousCartCache=removeAnonymousCartCache,exports.sdkEntity=sdkEntity,exports.setAnonymousCartCache=setAnonymousCartCache,Object.defineProperty(exports,"__esModule",{value:!0})}(this.lib_anonymousCart=this.lib_anonymousCart||{});
